<!DOCTYPE html>

<head lan="eng">
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>show timings</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <link rel='stylesheet' href="../../Assets/css/timings.css">

  <style>
    .banner {
      /* background-image:url(../../Assets/images/Vaathi/vaathi-about.jpg); */
      background-size: 100%;
      height: 500px;
    }
  </style>
</head>

<body>

  <header>
    <img src="../../Assets/images/logo/logo.png" alt="logo">
  </header>

  <div class="banner">

    <div class="timeandcast">

    </div>
  </div>


  <div class="main">

    <h3 id="IndiaTime" style="color: white; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;"></h3>


    <div class="show_date">

      <div class="sunday_show" id="show_day1" >
        <h2>
          <span id="day"></span> <br>
          <span id="date"></span> <br>
          <span id="month"></span>
        </h2>
      </div>

      <div class="monday_show" id="show_day2" >
        <h2>
          <span id="day"></span> <br>
          <span id="date"></span> <br>
          <span id="month"></span>
        </h2>
      </div>

      <div class="tuesday_show" id="show_day3">
        <h2>
          <span id="day"></span> <br>
          <span id="date"></span> <br>
          <span id="month"></span>
        </h2>
      </div>

      <div class="wednesday_show" id="show_day4" >
        <h2>
          <span id="day"></span> <br>
          <span id="date"></span> <br>
          <span id="month"></span>
        </h2>
      </div>

      <div class="thursday_show" id="show_day5">
        <h2>
          <span id="day"></span> <br>
          <span id="date"></span> <br>
          <span id="month"></span>
        </h2>
      </div>

      <div class="friday_show" id="show_day6" >
        <h2>
          <span id="day"></span> <br>
          <span id="date"></span> <br>
          <span id="month"></span>
        </h2>
      </div>

      <div class="saturday_show" id="show_day7" >
        <h2>
          <span id="day"></span> <br>
          <span id="date"></span> <br>
          <span id="month"></span>
        </h2>
      </div>

    </div>

    <a href="Add_theatre.html"><button>Add</button></a>

    <div class="theatres_lists">




    </div>

  </div>

  <script>






    let theatres = [

      {
        theatre_name: "PVR,Grand mall,velacherry",
        show_date: "22",
        show_month: "jun",
        show_times: {
          show1_time: "10:00am",
          show2_time: "1:00pm",
          show3_time: "5:00pm",
          show4_time: "8:00pm",
        },
        status: true,
      },

    ];
    localStorage.setItem("theatre_details", JSON.stringify(theatres))

    let day = "";
    let month = "";
    let date = "";
    let day_div = document.querySelectorAll("#day");
    let month_div = document.querySelectorAll("#month")
    let date_div = document.querySelectorAll("#date")


    let curr_day = new Date().toDateString().slice(0, 3);
    // day = curr_day;
    //  document.querySelectorAll("day")[0].append(day)
    // console.log(day);
    let days = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"]

    let current_seq;
    let day_index
    days.forEach((e, index) => {
      if (curr_day == e) {
        day_index = index
      }
    })
    let temp

    temp = days.splice(0, day_index)
    current_seq = days.concat(temp)

    // console.log(day_index,"dfh");
    console.log(current_seq, "yg");
    // console.log(temp,"hyg");

    let curr_month = new Date().toDateString().slice(4, 7);
    // month =curr_month;
    // document.getElementById("month").append(month)
    // console.log(month);

    let curr_date = new Date().toDateString().slice(8, 10);
    // date =curr_date;
    // document.getElementById("date").append(date)
    // console.log(date)

    for (let i = 0; i < date_div.length; i++) {
      // let date_edited=curr_day + curr_month + curr_date;
      day_div[i].append(current_seq[i]);
      month_div[i].append(curr_month)
      date_div[i].append(curr_date)
      curr_date++;

    }


    // console.log(date_edited)











    var getIndiaTime = function () {
      document.getElementById("IndiaTime").innerHTML = new Date().toLocaleString("en-US", { timeZone: 'Asia/Kolkata', timeStyle: 'short', hourCycle: 'h12' });
    }
    getIndiaTime();
    setInterval(getIndiaTime, 1000);



    const name_list = JSON.parse(localStorage.getItem("show_movie_details"));


    const url = window.location.search;                // ?name=Arun
    const urlParams = new URLSearchParams(url);    //"name":"ponniyinselvan"    // converting string into key value pair
    const username = urlParams.get("name")             // return value of the "name" key
    console.log(username);


    let res;
    name_list.find(function (e) {
      if (e["name"]["movie_name"] == username) { //arr[0],arr[1]  =e
        return res = e;
      }
      else {
        return res = 0;
      }
    })


    // BANNER SECTION //
    let banner = document.querySelector(".banner");
    banner.style.backgroundImage = res["images"]["background_image"];

    let movie_name = document.createElement("h1");
    movie_name.innerText = res["name"]["movie_name"];
    banner.prepend(movie_name);

    let cast_time = document.querySelector(".timeandcast")
    banner.append(cast_time);

    let cast_name1 = document.createElement("h4");
    cast_name1.innerText = res["name"]["cast1_name"];
    cast_time.prepend(cast_name1);

    let cast_name2 = document.createElement("h4");
    cast_name2.innerText = res["name"]["cast2_name"];
    cast_time.append(cast_name2);

    let dot = document.createElement("h4")
    dot.innerText = "•";
    cast_time.append(dot);

    let movie_time = document.createElement("h4");
    movie_time.innerText = res["movie_time"];
    cast_time.append(movie_time);

    let dot2 = document.createElement("h4")
    dot2.innerText = "•";
    cast_time.append(dot2);

    let movie_type = document.createElement("h4");
    movie_type.innerText = res["movie_type"];
    cast_time.append(movie_type);

    let dot3 = document.createElement("h4")
    dot3.innerText = "•";
    cast_time.append(dot3);

    let frame = document.createElement("h4");
    frame.innerText = res["movie_frame"];
    cast_time.append(frame);

    let language = document.createElement("h4");
    language.innerText = res["language"];
    cast_time.append(language);


    //THEATRE SECTION STARTS//

    for (let theatre of theatres) {


      let theater = document.createElement("div");
      theater.setAttribute("class", "theatre_show1");
      theater.setAttribute("id", "day1_shows")


      let title = document.createElement("h2");
      title.setAttribute("id", "movie_title")
      title.innerText = theatre.theatre_name;
      theater.append(title);


      let showtime = document.createElement("div");
      showtime.setAttribute("class", "show_time1");
      showtime.setAttribute("id", "theatre_showtime")
      theater.append(showtime);

      let para1 = document.createElement("p");
      para1.innerText = theatre.show_times.show1_time;
      showtime.append(para1);

      let para2 = document.createElement("p");
      para2.innerText = theatre.show_times.show2_time;
      showtime.append(para2);

      let para3 = document.createElement("p");
      para3.innerText = theatre.show_times.show3_time;
      showtime.append(para3)

      let para4 = document.createElement("p");
      para4.innerText = theatre.show_times.show4_time;
      showtime.append(para4);

      let hr = document.createElement("hr");
      theater.append(hr);

      document.querySelector(".theatres_lists").append(theater);


    }


    for (let theatre of theatres) {


      let theater = document.createElement("div");
      theater.setAttribute("class", "theatre_show2");
      theater.setAttribute("id", "day2_shows")

      let title = document.createElement("h2");
      title.setAttribute("id", "movie_title")
      title.innerText = theatre.theatre_name;
      theater.append(title);


      let showtime = document.createElement("div");
      showtime.setAttribute("class", "show_time2");
      showtime.setAttribute("id", "theatre_showtime")
      theater.append(showtime);

      let para1 = document.createElement("p");
      para1.innerText = theatre.show_times.show1_time;
      showtime.append(para1);

      let para2 = document.createElement("p");
      para2.innerText = theatre.show_times.show2_time;
      showtime.append(para2);

      let para3 = document.createElement("p");
      para3.innerText = theatre.show_times.show3_time;
      showtime.append(para3)

      let para4 = document.createElement("p");
      para4.innerText = theatre.show_times.show4_time;
      showtime.append(para4);

      let hr = document.createElement("hr");
      theater.append(hr);

      document.querySelector(".theatres_lists").append(theater);


    }

    for (let theatre of theatres) {


      let theater = document.createElement("div");
      theater.setAttribute("class", "theatre_show3");
      theater.setAttribute("id", "day3_shows")

      let title = document.createElement("h2");
      title.setAttribute("id", "movie_title")
      title.innerText = theatre.theatre_name;
      theater.append(title);


      let showtime = document.createElement("div");
      showtime.setAttribute("class", "show_time3");
      showtime.setAttribute("id", "theatre_showtime")
      theater.append(showtime);

      let para1 = document.createElement("p");
      para1.innerText = theatre.show_times.show1_time;
      showtime.append(para1);

      let para2 = document.createElement("p");
      para2.innerText = theatre.show_times.show2_time;
      showtime.append(para2);

      let para3 = document.createElement("p");
      para3.innerText = theatre.show_times.show3_time;
      showtime.append(para3)

      let para4 = document.createElement("p");
      para4.innerText = theatre.show_times.show4_time;
      showtime.append(para4);

      let hr = document.createElement("hr");
      theater.append(hr);

      document.querySelector(".theatres_lists").append(theater);


    }

    for (let theatre of theatres) {


      let theater = document.createElement("div");
      theater.setAttribute("class", "theatre_show4");
      theater.setAttribute("id", "day4_shows")

      let title = document.createElement("h2");
      title.setAttribute("id", "movie_title")
      title.innerText = theatre.theatre_name;
      theater.append(title);


      let showtime = document.createElement("div");
      showtime.setAttribute("class", "show_time4");
      showtime.setAttribute("id", "theatre_showtime")
      theater.append(showtime);

      let para1 = document.createElement("p");
      para1.innerText = theatre.show_times.show1_time;
      showtime.append(para1);

      let para2 = document.createElement("p");
      para2.innerText = theatre.show_times.show2_time;
      showtime.append(para2);

      let para3 = document.createElement("p");
      para3.innerText = theatre.show_times.show3_time;
      showtime.append(para3)

      let para4 = document.createElement("p");
      para4.innerText = theatre.show_times.show4_time;
      showtime.append(para4);

      let hr = document.createElement("hr");
      theater.append(hr);

      document.querySelector(".theatres_lists").append(theater);



    }

    for (let theatre of theatres) {


      let theater = document.createElement("div");
      theater.setAttribute("class", "theatre_show5");
      theater.setAttribute("id", "day5_shows")

      let title = document.createElement("h2");
      title.setAttribute("id", "movie_title")
      title.innerText = theatre.theatre_name;
      theater.append(title);


      let showtime = document.createElement("div");
      showtime.setAttribute("class", "show_time5");
      showtime.setAttribute("id", "theatre_showtime")
      theater.append(showtime);

      let para1 = document.createElement("p");
      para1.innerText = theatre.show_times.show1_time;
      showtime.append(para1);

      let para2 = document.createElement("p");
      para2.innerText = theatre.show_times.show2_time;
      showtime.append(para2);

      let para3 = document.createElement("p");
      para3.innerText = theatre.show_times.show3_time;
      showtime.append(para3)

      let para4 = document.createElement("p");
      para4.innerText = theatre.show_times.show4_time;
      showtime.append(para4);

      let hr = document.createElement("hr");
      theater.append(hr);

      document.querySelector(".theatres_lists").append(theater);


    }

    for (let theatre of theatres) {


      let theater = document.createElement("div");
      theater.setAttribute("class", "theatre_show6");
      theater.setAttribute("id", "day6_shows")

      let title = document.createElement("h2");
      title.setAttribute("id", "movie_title")
      title.innerText = theatre.theatre_name;
      theater.append(title);


      let showtime = document.createElement("div");
      showtime.setAttribute("class", "show_time6");
      showtime.setAttribute("id", "theatre_showtime")
      theater.append(showtime);

      let para1 = document.createElement("p");
      para1.innerText = theatre.show_times.show1_time;
      showtime.append(para1);

      let para2 = document.createElement("p");
      para2.innerText = theatre.show_times.show2_time;
      showtime.append(para2);

      let para3 = document.createElement("p");
      para3.innerText = theatre.show_times.show3_time;
      showtime.append(para3)

      let para4 = document.createElement("p");
      para4.innerText = theatre.show_times.show4_time;
      showtime.append(para4);

      let hr = document.createElement("hr");
      theater.append(hr);

      document.querySelector(".theatres_lists").append(theater);


    }

    for (let theatre of theatres) {


      let theater = document.createElement("div");
      theater.setAttribute("class", "theatre_show7");
      theater.setAttribute("id", "day7_shows")

      let title = document.createElement("h2");
      title.setAttribute("id", "movie_title");
      title.innerText = "day7";
      theater.append(title);


      let showtime = document.createElement("div");
      showtime.setAttribute("class", "show_time7");
      showtime.setAttribute("id", "theatre_showtime")
      theater.append(showtime);

      let para1 = document.createElement("p");
      para1.innerText = theatre.show_times.show1_time;
      showtime.append(para1);

      let para2 = document.createElement("p");
      para2.innerText = theatre.show_times.show2_time;
      showtime.append(para2);

      let para3 = document.createElement("p");
      para3.innerText = theatre.show_times.show3_time;
      showtime.append(para3)

      let para4 = document.createElement("p");
      para4.innerText = theatre.show_times.show4_time;
      showtime.append(para4);

      let hr = document.createElement("hr");
      theater.append(hr);

      document.querySelector(".theatres_lists").append(theater);

    }

    // const day1_shows = document.getElementById("day1_shows");
    // const day2_shows = document.getElementById("day2_shows");
    // const day3_shows = document.getElementById("day3_shows");
    // const day4_shows = document.getElementById("day4_shows");
    // const day5_shows = document.getElementById("day5_shows");
    // const day6_shows = document.getElementById("day6_shows");
    // const day7_shows = document.getElementById("day7_shows");






    const show_day1 = document.getElementById("show_day1");
    const day1_shows = document.getElementById("day1_shows");

    const show_day2 = document.getElementById("show_day2");
    const day2_shows = document.getElementById("day2_shows");



    const show_day3 = document.getElementById("show_day3");
    const day3_shows = document.getElementById("day3_shows");



    const show_day4 = document.getElementById("show_day4");
    const day4_shows = document.getElementById("day4_shows");


    
    const show_day5 = document.getElementById("show_day5");
    const day5_shows = document.getElementById("day5_shows");


    
    const show_day6 = document.getElementById("show_day6");
    const day6_shows = document.getElementById("day6_shows");


    
    const show_day7 = document.getElementById("show_day7");
    const day7_shows = document.getElementById("day7_shows");







show_day1.addEventListener("click", function() {
  day1_shows.style.display = "block";
  day2_shows.style.display = "none";
  day3_shows.style.display = "none";
  day4_shows.style.display = "none";
  day5_shows.style.display = "none";
  day6_shows.style.display = "none";
  day7_shows.style.display = "none";

});

show_day2.addEventListener("click", function() {
  day1_shows.style.display = "none";
  day2_shows.style.display = "block";
  day3_shows.style.display = "none";
  day4_shows.style.display = "none";
  day5_shows.style.display = "none";
  day6_shows.style.display = "none";
  day7_shows.style.display = "none";

});

show_day3.addEventListener("click", function() {
  day1_shows.style.display = "none";
  day2_shows.style.display = "none";
  day3_shows.style.display = "block";
  day4_shows.style.display = "none";
  day5_shows.style.display = "none";
  day6_shows.style.display = "none";
  day7_shows.style.display = "none";

});

show_day4.addEventListener("click", function() {
  day1_shows.style.display = "none";
  day2_shows.style.display = "none";
  day3_shows.style.display = "none";
  day4_shows.style.display = "block";
  day5_shows.style.display = "none";
  day6_shows.style.display = "none";
  day7_shows.style.display = "none";

});

show_day5.addEventListener("click", function() {
  day1_shows.style.display = "none";
  day2_shows.style.display = "none";
  day3_shows.style.display = "none";
  day4_shows.style.display = "none";
  day5_shows.style.display = "block";
  day6_shows.style.display = "none";
  day7_shows.style.display = "none";

});

show_day6.addEventListener("click", function() {
  day1_shows.style.display = "none";
  day2_shows.style.display = "none";
  day3_shows.style.display = "none";
  day4_shows.style.display = "none";
  day5_shows.style.display = "none";
  day6_shows.style.display = "block";
  day7_shows.style.display = "none";

});

show_day7.addEventListener("click", function() {
  day1_shows.style.display = "none";
  day2_shows.style.display = "none";
  day3_shows.style.display = "none";
  day4_shows.style.display = "none";
  day5_shows.style.display = "none";
  day6_shows.style.display = "none";
  day7_shows.style.display = "block";

});









  </script>
</body>

</html>