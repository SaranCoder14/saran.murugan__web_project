<!DOCTYPE html>

<head lan="eng">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>show timings</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../../Assets/css/timings.css">
      
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

  <style>
    .banner {
      /* background-image:url(../../Assets/images/Vaathi/vaathi-about.jpg); */
      background-size: 100%;
      height: 500px;
    }
  </style>
</head>

<body>

  <header>
    <img src="../../Assets/images/logo/logo.png" alt="logo">
  </header>

  <div class="banner">

    <div class="timeandcast">

    </div>
  </div>

  <div class="main">

    <h3 id="IndiaTime" style="color: white; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;"></h3>

    <div class="show_date">

      <a class="a_day" href="#">
        <div class="sunday_show" autoclick id="show_day1">
          <h2>
            <span id="day"></span>
 <br>
            <span id="date"></span>
 <br>
            <span id="month"></span>
          </h2>
        </div>
      </a>

      <a class="a_day" href="#">
        <div class="sunday_show" id="show_day2">
          <h2>
            <span id="day"></span>
 <br>
            <span id="date"></span>
 <br>
            <span id="month"></span>
          </h2>
        </div>
      </a>

      <a class="a_day" href="#">
        <div class="sunday_show" id="show_day3">
          <h2>
            <span id="day"></span>
 <br>
            <span id="date"></span>
 <br>
            <span id="month"></span>
          </h2>
        </div>
      </a>

      <a class="a_day" href="#">
        <div class="sunday_show" id="show_day4">
          <h2>
            <span id="day"></span>
 <br>
            <span id="date"></span>
 <br>
            <span id="month"></span>
          </h2>
          </div>
         </a>

        <a class="a_day" href="#">
          <div class="sunday_show" id="show_day5">
            <h2>
              <span id="day"></span>
 <br>
              <span id="date"></span>
 <br>
              <span id="month"></span>
            </h2>
          </div> </a>

          <a class="a_day" href="#">
            <div class="sunday_show" id="show_day6">
              <h2>
                <span id="day"></span>
 <br>
                <span id="date"></span>
 <br>
                <span id="month"></span>
              </h2>
            </div>
          </a>

          <a class="a_day" href="#">
            <div class="sunday_show" id="show_day7">
              <h2>
                <span id="day"></span>
 <br>
                <span id="date"></span>
 <br>
                <span id="month"></span>
              </h2>
            </div> </a>

    </div>

    <!-- <a href="Add_theatre.html">
<button style="padding: 3px; color: black; border-radius: 5px;">Add theatre</button>
</a> -->

    <div class="theatres_lists">

      <div class="theatre_show1" id="day1_shows">

      </div>

      <div class="theatre_show2" id="day2_shows">

      </div>

      <div class="theatre_show3" id="day3_shows">

      </div>

      <div class="theatre_show4" id="day4_shows">

      </div>

      <div class="theatre_show5" id="day5_shows">

      </div>

      <div class="theatre_show6" id="day6_shows">

      </div>

      <div class="theatre_show7" id="day7_shows">

      </div>

    </div>

  </div>

  <script>  
  swal("Please select the show date !");
    // let theatres = [

    //   {

    //     name: {
    //       movie_name: "Leo",
    //       theatre_name: "PVR,Grand mall,velacherry",

    //     },
    //     show_times: {
    //       show_time: "7:00am",
    //       show_time: "9:00am",
    //       show_time: "11:00am",
    //     },
    //     show_date: "22",
    //     show_month: "jun",
    //     show_date: "29",
    //     show_month: "Apr",
    //     budget_cost: "60",
    //     premium_cost: "190",
    //     status: true,
    //   } 
    // ];
    // localStorage.setItem("theatre_details", JSON.stringify(theatres))

    // day = curr_day;
    //  document.querySelectorAll("day")[0].append(day)
    // console.log(day);
    // let days = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"]

    // let current_seq;
    // let day_index
    // days.forEach((e, index) => {
    //   if (curr_day == e) {
    //     day_index = index
    //   }
    // })
    // let temp

    // temp = days.splice(0, day_index)
    // current_seq = days.concat(temp)

    // // console.log(day_index,"dfh");
    // console.log(current_seq, "yg");
    // // console.log(temp,"hyg");

    // const today = new Date();
    // let cnt = 0;
    // // for (i = 0; i < 6; i++) {

    //   const firstDay = new Date(today.setDate(today.getDate() + cnt));
    //   curr_day=firstDay.toDateString().slice(0, 3);
    //   curr_date=firstDay.toDateString().slice(8, 10);
    //   curr_month=firstDay.toDateString().slice(4, 7);
    //   // .split('T')[0]
    //   cnt = 1
    // }

    // let curr_month = new Date().toDateString().slice(4, 7);
    // month =curr_month;
    // document.getElementById("month").append(month)
    // console.log(month);

    // let curr_date = new Date().toDateString().slice(8, 10);
    // date =curr_date;
    // document.getElementById("date").append(date)
    // console.log(date)

    // console.log(date_edited)

    // console.log(curr_day + curr_date + curr_month)
    // .split('T')[0]

    // let date_edited=curr_day + curr_month + curr_date;

    // day_div[i].append(current_seq[i]);
    // month_div[i].append(curr_month)
    // date_div[i].append(curr_date)
    // curr_date++;

    const movie_list = JSON.parse(localStorage.getItem("show_movie_details"));

    const url = window.location.search;                // ?name=Arun
    const urlParams = new URLSearchParams(url);    //"name":"ponniyinselvan"    // converting string into key value pair
    const username = urlParams.get("name")             // return value of the "name" key
    console.log(username);

    let res;
    movie_list.find((e) => {
  if (e.name.movie_name == username) { //arr[0],arr[1]  =e
    return res = e;
  }
  
    return res = 0;
  
})

    // let live_live_time;

    // const getIndiaTime = function () {
  // const live_time = document.getElementById("IndiaTime").innerText = new Date().toLocaleString("en-US", { timeZone: 'Asia/Kolkata', timeStyle: 'short', hourCycle: 'h12' });
  // return live_live_time = live_time
// }
    // getIndiaTime();
    // setInterval(getIndiaTime, 1000);

    // console.log(live_live_time);

    // BANNER SECTION //
    const banner = document.querySelector(".banner");
    banner.style.backgroundImage = res.images.background_image;

    const movie_name = document.createElement("h1");
    movie_name.innerText = res.name.movie_name;
    banner.prepend(movie_name);

    const cast_time = document.querySelector(".timeandcast")
    banner.append(cast_time);

    const cast_name1 = document.createElement("h4");
    cast_name1.innerText = res.name.cast_name[0];
    cast_time.prepend(cast_name1);

    const cast_name2 = document.createElement("h4");
    cast_name2.innerText = res.name.cast_name[1];
    cast_time.append(cast_name2);

    const dot = document.createElement("h4")
    dot.innerText = "•";
    cast_time.append(dot);

    const movie_time = document.createElement("h4");
    movie_time.innerText = res.movie_time;
    cast_time.append(movie_time);

    const dot2 = document.createElement("h4")
    dot2.innerText = "•";
    cast_time.append(dot2);

    const movie_type = document.createElement("h4");
    movie_type.innerText = res.movie_type;
    cast_time.append(movie_type);

    const dot3 = document.createElement("h4")
    dot3.innerText = "•";
    cast_time.append(dot3);

    const frame = document.createElement("h4");
    frame.innerText = res.frame;
    cast_time.append(frame);

    const language = document.createElement("h4");
    language.innerText = res.language;
    cast_time.append(language);

    //THEATRE SECTION STARTS//

    const day = "";
    const month = "";
    const date = "";
    const day_div = document.querySelectorAll("#day");
    const month_div = document.querySelectorAll("#month")
    const date_div = document.querySelectorAll("#date")
    const show_sunday = document.querySelectorAll(".sunday_show");

    const span = date_div[0].innerText

    // console.log(span)
    let curr_day;
    let curr_month;
    let curr_date;

    const today = new Date();
    let cnt = 0;

    for (let i = 0; i < date_div.length; i++) {

      // for (i = 0; i < 6; i++) {

      const firstDay = new Date(today.setDate(today.getDate() + cnt));
      curr_day = firstDay.toDateString().slice(0, 3);
      curr_date = firstDay.toDateString().slice(8, 10);
      curr_month = firstDay.toDateString().slice(4, 7);
      // let date_edited=curr_day + curr_month + curr_date;

      day_div[i].append(curr_day);
      month_div[i].append(curr_month)
      date_div[i].append(curr_date);

      const span = date_div[0].innerText

      // console.log(span)

      cnt = 1

    }

    const theatre_list = JSON.parse(localStorage.getItem("show_details"));

    // console.log(filtered_theatre);

    const theatre_show1 = document.querySelector(".theatre_show1");

    for (const theatres of theatre_list) {

      if (theatres.name.movie_name == res.name.movie_name && theatres.show_date == date_div[0].innerText && theatres.show_month == month_div[0].innerText) {

        const theatre_det = document.createElement("div");
        theatre_det.setAttribute("class", "theatre_det")
        theatre_show1.append(theatre_det);

        const title = document.createElement("h2");
        title.setAttribute("class", "theatre_name")
        title.innerText = theatres.name.theatre_name;
        theatre_det.append(title);

        const showtime = document.createElement("div");
        showtime.setAttribute("class", "show_time1");
        showtime.setAttribute("id", "theatre_showtime")
        theatre_det.append(showtime);

        for (i = 0; i < theatres.show_times.length; i++) {

          



          // const para2 = document.createElement("p");
          // para2.setAttribute("class", "show_times")
          // // para2.innerText = theatres.show_times[i];
          // showtime.append(para2);

          

          const a = document.createElement("a");
          a.innerText = theatres.show_times[i];
          a.setAttribute("class", "show_times1")
          a.setAttribute("href", `movie_seats.html?name=${res.name.movie_name}`);
          showtime.append(a);
         
      
        }
   

        const hr = document.createElement("hr");
        theatre_det.append(hr);

      }

  

      const para2 = document.querySelectorAll(".show_time1 a")
      const theatre_dev = document.querySelectorAll(".theatre_det");

      // const users = JSON.parse(localStorage.getItem("profile_details"));

      // let 
      para2.forEach((e) => {
        e.addEventListener("click", (el) => {
          // console.log(el.target.children[0].children[0].innerText + el.target.children[0].children[1].innerText + el.target.children[0].children[2].innerText);
          const show_time = el.target.innerText;
        
          const theatre_name = el.target.parentElement.parentElement.children[0].innerText;

          const user_booking = JSON.parse(localStorage.getItem("user_booking")) ?? []
          if (JSON.parse(localStorage.getItem("user_booking"))) {
            user_booking.find(e => {
              if (e.email == e.email) {
                e.theatre_name = theatre_name
                e.show_time = show_time
                localStorage.setItem("user_booking", JSON.stringify(user_booking))
              }
              else {
                const booking_data = {
              "email": users.booking,
              "show_day": day,
              "show_date": date,
              "show_month": month,
            }
                user_booking.push(booking_data)

                users.push(booking_data)
                localStorage.setItem("user_booking", JSON.stringify(user_booking))
              }
            })
          }

        })
      });
    };

      
    //day display none code

    const current_time= new Date()

  const showtimings=document.getElementsByClassName("show_times1");


   for(let i=0; i< showtimings.length; i++){
     let showTiming =showtimings[i]


   
     let timing = showTiming.innerHTML;
     

     let timingParts= timing.split(" ");
     let time= timingParts[0];
     let ampm =timingParts[1];
      

     let timingPart= time.split(":")
     let showHour = parseInt(timingPart[0]);
     let showMinute=parseInt(timingPart[1]);

     if(ampm === "PM" && showHour !== 12){
      showHour +=12;
     }
     if(ampm === "AM" && showHour === 12 ){
      showHour =0;
     }
      
      let showTime= new Date();
      showTime.setHours(showHour);
      showTime.setMinutes(showMinute);

    


    if(showTime <= current_time){

      showTiming.style.display="none";
    }


   }


    // let show_times = document.querySelectorAll(".show_times1");

    // let show_times = ["11:00 AM", "11:30 AM", "12:00 PM", "7:00 AM", "1:15 PM", "12:30 PM"];

    // for (let i = 0; i < show_times.length; i++) {
    //   let timeslot12hr = show_times[i];
    //   for (let j = 0; j < timeslot12hr.length; j++) {
    //     if (timeslot12hr[j] == 'P') {
    //       let addedtime = Number(timeslot12hr.slice(0, 2) || timeslot12hr.slice(0, 1)) + 12
    //       // if(addedtime == NaN){ Number(timeslot12hr.slice(0,1)) + 12} ;
    //       let timeslot24hr = String(addedtime) + timeslot12hr.slice(2, 5);
    //       console.log(timeslot24hr)
    //     }
    //   }
    //   for (let j = 0; j < timeslot12hr.length; j++) {
    //     if (timeslot12hr[j] == "A") {
    //       let morningtime = timeslot12hr.slice(0, 5);
    //       console.log(morningtime);
    //     }
    //   }
    // }

    // alert("help me")

    const theatre_show2 = document.querySelector(".theatre_show2");

    for (const theatres of theatre_list) {

      if (theatres.name.movie_name == res.name.movie_name && theatres.show_date == date_div[1].innerText && theatres.show_month == month_div[1].innerText) {

        const theatre_det = document.createElement("div");
        theatre_det.setAttribute("class", "theatre_det")
        theatre_show2.append(theatre_det);

        const title = document.createElement("h2");
        title.setAttribute("class", "theatre_name")
        title.innerText = theatres.name.theatre_name;
        theatre_det.append(title);

        const showtime = document.createElement("div");
        showtime.setAttribute("class", "show_time2");
        showtime.setAttribute("id", "theatre_showtime")
        theatre_det.append(showtime);

        for (i = 0; i < theatres.show_times.length; i++) {

          const para2 = document.createElement("p");
          // para2.innerText = theatres.show_times[i];
          showtime.append(para2);

          const a = document.createElement("a");
          a.innerText = theatres.show_times[i];
          a.setAttribute("href", `movie_seats.html?name=${  res.name.movie_name}`);
          para2.append(a);
        }
        const hr = document.createElement("hr");
        theatre_det.append(hr);

      }

      const para2 = document.querySelectorAll(".show_time2 p")
      const theatre_dev = document.querySelectorAll(".theatre_det");

      para2.forEach((e) => {
        e.addEventListener("click", (el) => {
          // console.log(el.target.children[0].children[0].innerText + el.target.children[0].children[1].innerText + el.target.children[0].children[2].innerText);
          const show_time = el.target.innerText;
          const theatre_name = el.target.parentElement.parentElement.parentElement.children[0].innerText;

          const user_booking = JSON.parse(localStorage.getItem("user_booking")) ?? []
          if (JSON.parse(localStorage.getItem("user_booking"))) {
            user_booking.find(e => {
              if (e.email == e.email) {
                e.theatre_name = theatre_name
                e.show_time = show_time
                localStorage.setItem("user_booking", JSON.stringify(user_booking))
              }
              else {
                const booking_data = {
              "email": users.booking,
              "show_day": day,
              "show_date": date,
              "show_month": month,
            }
                user_booking.push(booking_data)

                users.push(booking_data)
                localStorage.setItem("user_booking", JSON.stringify(user_booking))
              }
            })
          }

        })
      });

    }

    const theatre_show3 = document.querySelector(".theatre_show3");

    for (const theatres of theatre_list) {
      if (theatres.name.movie_name == res.name.movie_name && theatres.show_date == date_div[2].innerText && theatres.show_month == month_div[2].innerText) {

        const theatre_det = document.createElement("div");
        theatre_det.setAttribute("class", "theatre_det")
        theatre_show3.append(theatre_det);

        const title = document.createElement("h2");
        title.setAttribute("class", "theatre_name")
        title.innerText = theatres.name.theatre_name;
        theatre_det.append(title);

        const showtime = document.createElement("div");
        showtime.setAttribute("class", "show_time3");
        showtime.setAttribute("id", "theatre_showtime")
        theatre_det.append(showtime);

        for (i = 0; i < theatres.show_times.length; i++) {

          const para2 = document.createElement("p");
          showtime.append(para2);

          const a = document.createElement("a");
          a.innerText = theatres.show_times[i];
          a.setAttribute("href", `movie_seats.html?name=${  res.name.movie_name}`);
          para2.append(a);
        }
        const hr = document.createElement("hr");
        theatre_det.append(hr);

      }
      const para2 = document.querySelectorAll(".show_time3 p");
      const theatre_dev = document.querySelectorAll(".theatre_det");

      para2.forEach((e) => {
        e.addEventListener("click", (el) => {
          // console.log(el.target.children[0].children[0].innerText + el.target.children[0].children[1].innerText + el.target.children[0].children[2].innerText);
          const show_time = el.target.innerText;
          const theatre_name = el.target.parentElement.parentElement.parentElement.children[0].innerText;

          const user_booking = JSON.parse(localStorage.getItem("user_booking")) ?? []
          if (JSON.parse(localStorage.getItem("user_booking"))) {
            user_booking.find(e => {
              if (e.email == e.email) {
                e.theatre_name = theatre_name
                e.show_time = show_time
                localStorage.setItem("user_booking", JSON.stringify(user_booking))
              }
              else {
                const booking_data = {
              "email": users.booking,
              "show_day": day,
              "show_date": date,
              "show_month": month,
            }
                user_booking.push(booking_data)

                users.push(booking_data)
                localStorage.setItem("user_booking", JSON.stringify(user_booking))
              }
            })
          }

        })
      });

    }

    const theatre_show4 = document.querySelector(".theatre_show4");

    for (const theatres of theatre_list) {
      if (theatres.name.movie_name == res.name.movie_name && theatres.show_date == date_div[3].innerText && theatres.show_month == month_div[3].innerText) {

        const theatre_det = document.createElement("div");
        theatre_det.setAttribute("class", "theatre_det")
        theatre_show4.append(theatre_det);

        const title = document.createElement("h2");
        title.setAttribute("class", "theatre_name")
        title.innerText = theatres.name.theatre_name;
        theatre_det.append(title);

        const showtime = document.createElement("div");
        showtime.setAttribute("class", "show_time4");
        showtime.setAttribute("id", "theatre_showtime")
        theatre_det.append(showtime);

        for (i = 0; i < theatres.show_times.length; i++) {

          const para2 = document.createElement("p");
          showtime.append(para2);

          const a = document.createElement("a");
          a.innerText = theatres.show_times[i];
          a.setAttribute("href", `movie_seats.html?name=${  res.name.movie_name}`);
          para2.append(a);
        }
        const hr = document.createElement("hr");
        theatre_det.append(hr);

      }

      const para2 = document.querySelectorAll(".show_time4 p")
      const theatre_dev = document.querySelectorAll(".theatre_det");

      para2.forEach((e) => {
        e.addEventListener("click", (el) => {
          // console.log(el.target.children[0].children[0].innerText + el.target.children[0].children[1].innerText + el.target.children[0].children[2].innerText);
          const show_time = el.target.innerText;
          const theatre_name = el.target.parentElement.parentElement.parentElement.children[0].innerText;

          const user_booking = JSON.parse(localStorage.getItem("user_booking")) ?? []
          if (JSON.parse(localStorage.getItem("user_booking"))) {
            user_booking.find(e => {
              if (e.email == e.email) {
                e.theatre_name = theatre_name
                e.show_time = show_time
                localStorage.setItem("user_booking", JSON.stringify(user_booking))
              }
              else {
                const booking_data = {
              "email": users.booking,
              "show_day": day,
              "show_date": date,
              "show_month": month,
            }
                user_booking.push(booking_data)

                users.push(booking_data)
                localStorage.setItem("user_booking", JSON.stringify(user_booking))
              }
            })
          }

        })
      });

    }

    const theatre_show5 = document.querySelector(".theatre_show5");

    for (const theatres of theatre_list) {
      if (theatres.name.movie_name == res.name.movie_name && theatres.show_date == date_div[4].innerText && theatres.show_month == month_div[4].innerText) {

        const theatre_det = document.createElement("div");
        theatre_det.setAttribute("class", "theatre_det")
        theatre_show5.append(theatre_det);

        const title = document.createElement("h2");
        title.setAttribute("class", "theatre_name")
        title.innerText = theatres.name.theatre_name;
        theatre_det.append(title);

        const showtime = document.createElement("div");
        showtime.setAttribute("class", "show_time5");
        showtime.setAttribute("id", "theatre_showtime")
        theatre_det.append(showtime);

        for (i = 0; i < theatres.show_times.length; i++) {

          const para2 = document.createElement("p");
          showtime.append(para2);

          const a = document.createElement("a");
          a.innerText = theatres.show_times[i];
          a.setAttribute("href", `movie_seats.html?name=${  res.name.movie_name}`);
          para2.append(a);
        }
        const hr = document.createElement("hr");
        theatre_det.append(hr);
      }

      const para2 = document.querySelectorAll(".show_time5 p")
      const theatre_dev = document.querySelectorAll(".theatre_det");

      para2.forEach((e) => {
        e.addEventListener("click", (el) => {
          // console.log(el.target.children[0].children[0].innerText + el.target.children[0].children[1].innerText + el.target.children[0].children[2].innerText);
          const show_time = el.target.innerText;
          const theatre_name = el.target.parentElement.parentElement.parentElement.children[0].innerText;

          const user_booking = JSON.parse(localStorage.getItem("user_booking")) ?? []
          if (JSON.parse(localStorage.getItem("user_booking"))) {
            user_booking.find(e => {
              if (e.email == e.email) {
                e.theatre_name = theatre_name
                e.show_time = show_time
                localStorage.setItem("user_booking", JSON.stringify(user_booking))
              }
              else {
                const booking_data = {
              "email": users.booking,
              "show_day": day,
              "show_date": date,
              "show_month": month,
            }
                user_booking.push(booking_data)

                users.push(booking_data)
                localStorage.setItem("user_booking", JSON.stringify(user_booking))
              }
            })
          }

        })
      });

    }

    const theatre_show6 = document.querySelector(".theatre_show6");

    for (const theatres of theatre_list) {
      if (theatres.name.movie_name == res.name.movie_name && theatres.show_date == date_div[5].innerText && theatres.show_month == month_div[5].innerText) {

        const theatre_det = document.createElement("div");
        theatre_det.setAttribute("class", "theatre_det")
        theatre_show6.append(theatre_det);

        const title = document.createElement("h2");
        title.setAttribute("class", "theatre_name")
        title.innerText = theatres.name.theatre_name;
        theatre_det.append(title);

        const showtime = document.createElement("div");
        showtime.setAttribute("class", "show_time6");
        showtime.setAttribute("id", "theatre_showtime")
        theatre_det.append(showtime);

        for (i = 0; i < theatres.show_times.length; i++) {

          const para2 = document.createElement("p");
          showtime.append(para2);

          const a = document.createElement("a");
          a.innerText = theatres.show_times[i];
          a.setAttribute("href", `movie_seats.html?name=${  res.name.movie_name}`);
          para2.append(a);
        }
        const hr = document.createElement("hr");
        theatre_det.append(hr);
      }

      const para2 = document.querySelectorAll(".show_time6 p")
      const theatre_dev = document.querySelectorAll(".theatre_det");

      para2.forEach((e) => {
        e.addEventListener("click", (el) => {
          // console.log(el.target.children[0].children[0].innerText + el.target.children[0].children[1].innerText + el.target.children[0].children[2].innerText);
          const show_time = el.target.innerText;
          const theatre_name = el.target.parentElement.parentElement.parentElement.children[0].innerText;

          const user_booking = JSON.parse(localStorage.getItem("user_booking")) ?? []
          if (JSON.parse(localStorage.getItem("user_booking"))) {
            user_booking.find(e => {
              if (e.email == e.email) {
                e.theatre_name = theatre_name
                e.show_time = show_time
                localStorage.setItem("user_booking", JSON.stringify(user_booking))
              }
              else {
                const booking_data = {
              "email": users.booking,
              "show_day": day,
              "show_date": date,
              "show_month": month,
            }
                user_booking.push(booking_data)

                users.push(booking_data)
                localStorage.setItem("user_booking", JSON.stringify(user_booking))
              }
            })
          }

        })
      });

    }

    const theatre_show7 = document.querySelector(".theatre_show7");

    for (const theatres of theatre_list) {
      if (theatres.name.movie_name == res.name.movie_name && theatres.show_date == date_div[6].innerText && theatres.show_month == month_div[6].innerText) {

        const theatre_det = document.createElement("div");
        theatre_det.setAttribute("class", "theatre_det")
        theatre_show7.append(theatre_det);

        const title = document.createElement("h2");
        title.setAttribute("class", "theatre_name")
        title.innerText = theatres.name.theatre_name;
        theatre_det.append(title);

        const showtime = document.createElement("div");
        showtime.setAttribute("class", "show_time7");
        showtime.setAttribute("id", "theatre_showtime")
        theatre_det.append(showtime);

        for (i = 0; i < theatres.show_times.length; i++) {

          const para2 = document.createElement("p");
          showtime.append(para2);

          const a = document.createElement("a");
          a.innerText = theatres.show_times[i];
          a.setAttribute("href", `movie_seats.html?name=${  res.name.movie_name}`);
          para2.append(a);
        }
        const hr = document.createElement("hr");
        theatre_det.append(hr);

      }
      const para2 = document.querySelectorAll(".show_time7 p")
      const theatre_dev = document.querySelectorAll(".theatre_det");

      para2.forEach((e) => {
        e.addEventListener("click", (el) => {
          // console.log(el.target.children[0].children[0].innerText + el.target.children[0].children[1].innerText + el.target.children[0].children[2].innerText);
          const show_time = el.target.innerText;
          const theatre_name = el.target.parentElement.parentElement.parentElement.children[0].innerText;

          const user_booking = JSON.parse(localStorage.getItem("user_booking")) ?? []
          if (JSON.parse(localStorage.getItem("user_booking"))) {
            user_booking.find(e => {
              if (e.email == e.email) {
                e.theatre_name = theatre_name
                e.show_time = show_time
                localStorage.setItem("user_booking", JSON.stringify(user_booking))
              }
              else {
                const booking_data = {
              "email": users.booking,
              "show_day": day,
              "show_date": date,
              "show_month": month,
            }
                user_booking.push(booking_data)

                users.push(booking_data)
                localStorage.setItem("user_booking", JSON.stringify(user_booking))
              }
            })
          }

        })
      });

    }

    // const day1_shows = document.getElementById("day1_shows");
    // const day2_shows = document.getElementById("day2_shows");
    // const day3_shows = document.getElementById("day3_shows");
    // const day4_shows = document.getElementById("day4_shows");
    // const day5_shows = document.getElementById("day5_shows");
    // const day6_shows = document.getElementById("day6_shows");
    // const day7_shows = document.getElementById("day7_shows");

    const show_day1 = document.querySelectorAll(".sunday_show");

    const show_day_div1 = document.getElementById("show_day1")
    const day1_shows = document.getElementById("day1_shows");

    const show_day_div2 = document.getElementById("show_day2");
    const day2_shows = document.getElementById("day2_shows");

    const show_day_div3 = document.getElementById("show_day3");
    const day3_shows = document.getElementById("day3_shows");

    const show_day_div4 = document.getElementById("show_day4");
    const day4_shows = document.getElementById("day4_shows");

    const show_day_div5 = document.getElementById("show_day5");
    const day5_shows = document.getElementById("day5_shows");

    const show_day_div6 = document.getElementById("show_day6");
    const day6_shows = document.getElementById("day6_shows");

    const show_day_div7 = document.getElementById("show_day7");
    const day7_shows = document.getElementById("day7_shows");

    show_day1.forEach((e) => {
      e.addEventListener("click", (el) => {
        // day1_shows.style.display = "block";
        // day2_shows.style.display = "none";
        // day3_shows.style.display = "none";
        // day4_shows.style.display = "none";
        // day5_shows.style.display = "none";
        // day6_shows.style.display = "none";
        // day7_shows.style.display = "none";
        // console.log(el.target.children[0].children[2].innerText)

        const users = JSON.parse(localStorage.getItem("profile_details"));

        const day = el.target.children[0].children[0].innerText;
        const date = el.target.children[0].children[2].innerText;
        const month = el.target.children[0].children[4].innerText;

        const user_booking = JSON.parse(localStorage.getItem("user_booking")) ?? []

        if (JSON.parse(localStorage.getItem("user_booking"))) {
          user_booking.find((e) => {
            if (e.email == users.email) {
              e.email = users.email
              e.show_day = day
              e.show_date = date
              e.show_month = month
              // user_booking.push(booking_date)

              localStorage.setItem("user_booking", JSON.stringify(user_booking))
            }
            else {
              const booking_date = {
            "email": users.email,
            "show_day": day,
            "show_date": date,
            "show_month": month,
          }
              user_booking.push(booking_date)

              localStorage.setItem("user_booking", JSON.stringify(user_booking))
            }
          })

        }
        else {

          const booking_date = {
        "email": users.email,
        "show_day": day,
        "show_date": date,
        "show_month": month,
      }
          user_booking.push(booking_date)

          localStorage.setItem("user_booking", JSON.stringify(user_booking))
        }

      });
    })

    show_day_div1.addEventListener("click", () => {
      day1_shows.style.display = "block";
      day2_shows.style.display = "none";
      day3_shows.style.display = "none";
      day4_shows.style.display = "none";
      day5_shows.style.display = "none";
      day6_shows.style.display = "none";
      day7_shows.style.display = "none";

    });

    show_day_div2.addEventListener("click", () => {
      day1_shows.style.display = "none";
      day2_shows.style.display = "block";
      day3_shows.style.display = "none";
      day4_shows.style.display = "none";
      day5_shows.style.display = "none";
      day6_shows.style.display = "none";
      day7_shows.style.display = "none";

    });

    show_day_div3.addEventListener("click", () => {
      day1_shows.style.display = "none";
      day2_shows.style.display = "none";
      day3_shows.style.display = "block";
      day4_shows.style.display = "none";
      day5_shows.style.display = "none";
      day6_shows.style.display = "none";
      day7_shows.style.display = "none";

    });

    show_day_div4.addEventListener("click", () => {
      day1_shows.style.display = "none";
      day2_shows.style.display = "none";
      day3_shows.style.display = "none";
      day4_shows.style.display = "block";
      day5_shows.style.display = "none";
      day6_shows.style.display = "none";
      day7_shows.style.display = "none";

    });

    show_day_div5.addEventListener("click", () => {
      day1_shows.style.display = "none";
      day2_shows.style.display = "none";
      day3_shows.style.display = "none";
      day4_shows.style.display = "none";
      day5_shows.style.display = "block";
      day6_shows.style.display = "none";
      day7_shows.style.display = "none";

    });

    show_day_div6.addEventListener("click", () => {
      day1_shows.style.display = "none";
      day2_shows.style.display = "none";
      day3_shows.style.display = "none";
      day4_shows.style.display = "none";
      day5_shows.style.display = "none";
      day6_shows.style.display = "block";
      day7_shows.style.display = "none";

    });

    show_day_div7.addEventListener("click", () => {
      day1_shows.style.display = "none";
      day2_shows.style.display = "none";
      day3_shows.style.display = "none";
      day4_shows.style.display = "none";
      day5_shows.style.display = "none";
      day6_shows.style.display = "none";
      day7_shows.style.display = "block";

    });
  </script>
</body>

</html>